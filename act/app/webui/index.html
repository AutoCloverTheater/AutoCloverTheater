<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å››å¶è‰ğŸ€å°åŠ©æ‰‹</title>
    <link rel="icon" href="https://static.jianniang.com/clover1/pc/images/p1/favicon.ico" type="image/x-icon">
<!--    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>-->
    <script src="https://unpkg.com/vue@3"></script>
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-plus/dist/index.css">
    <!-- import JavaScript -->
    <script src="https://unpkg.com/element-plus"></script>
    <!-- å¼•å…¥æ–°é¡µé¢æ ·å¼ -->
    <link rel="stylesheet" href="new_page.css">
<!--    å¼¹å‡ºæ¶ˆæ¯æ ·å¼-->
    <style>
        /* æ¶ˆæ¯å®¹å™¨æ ·å¼ */
        .message-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 12px;
            max-width: 400px;
        }

        /* æ¶ˆæ¯æ¡†åŸºç¡€æ ·å¼ */
        .message-box {
            position: relative;
            display: flex;
            align-items: flex-start;
            padding: 15px 20px;
            border-radius: 6px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            background: white;
            transition: all 0.3s ease;
            min-width: 280px;
        }

        /* çŠ¶æ€é¢œè‰² */
        .message-box.success {
            border-left: 4px solid #4CAF50;
            background: #f5fbf5;

        }

        .message-box.error {
            border-left: 4px solid #f44336;
            background: #fff5f5;
        }

        .message-box.warning {
            border-left: 4px solid gold;
            background: rgb(247.5, 227.1, 196.5);
            color: rgb(247.5, 227.1, 196.5);
        }

        /* å›¾æ ‡æ ·å¼ */
        .message-icon {
            flex-shrink: 0;
            margin-right: 12px;
            padding-top: 2px;
        }

        .message-icon svg {
            vertical-align: middle;
        }

        /* å†…å®¹åŒºåŸŸ */
        .message-content {
            flex: 1;
        }

        .message-title {
            font-weight: 600;
            margin-bottom: 4px;
            color: #333;
        }

        .message-text {
            font-size: 0.9em;
            color: #666;
            line-height: 1.4;
        }

        /* å…³é—­æŒ‰é’® */
        .message-close {
            flex-shrink: 0;
            margin-left: 15px;
            background: none;
            border: none;
            color: #999;
            font-size: 18px;
            line-height: 1;
            cursor: pointer;
            padding: 0;
        }

        .message-close:hover {
            color: #666;
        }

        /* è¿‡æ¸¡åŠ¨ç”» */
        .message-slide-enter-from {
            opacity: 0;
            transform: translateX(100%);
        }

        .message-slide-leave-to {
            opacity: 0;
            transform: translateY(-20%);
        }

        .message-slide-leave-active {
            position: absolute;
        }
    </style>
<!--    ä¸»é¡µé¢æ ·å¼-->
    <style>
        body {
            margin: 0;
            min-width: 1000px;
            justify-content: center;
            align-items: center;
            background-color: #f0f2f5;
            font-family: Arial, sans-serif;
            box-sizing: border-box; /* åŒ…å«å†…è¾¹è·çš„è®¡ç®— */
        }
    @media screen and (min-width: 1120px) {
        body {
            margin: 0;
            min-width: 1000px;
            justify-content: center;
            align-items: center;
            padding: 0 200px;
            background-color: #f0f2f5;
            font-family: Arial, sans-serif;
            box-sizing: border-box; /* åŒ…å«å†…è¾¹è·çš„è®¡ç®— */
        }
    }


        .container {
            background: white;
            border-radius: 8px;
            height: 100vh;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            display: flex;
        }

        #left-panel {
            flex: 0 0 25%;     /* ä¸æ”¾å¤§ä¸ç¼©å°ï¼Œå›ºå®š45% */
            padding: 20px;
            border-right: 1px solid #e8e8e8;
            overflow-y: auto;
        }

        .config-section {
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
        }

        .config-section h3 {
            margin: 0 0 10px 0;
            color: #1890ff;
            font-size: 14px;
        }

        #right-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        #log-container {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            background: #000;
            color: #00ff00;
            font-family: monospace;
        }

        .text-debug {
          color: #2196f3; /* è“è‰² */
        }
        .text-info {
            color: #00ff00;/* ç»¿è‰² */
        }
        .text-warning {
          color: #ff9800; /* æ©™è‰² */
        }
        .text-error {
          color: #f44336; /* çº¢è‰² */
        }
        .text-critical {
          color: #8b0000; /* æš—çº¢è‰² */
          font-weight: bold;
        }

        #log-container div{
            padding: 3px;
        }

        #top-bar {
            height: 60px;
            display: flex;
            align-items: center;
            padding: 0 20px;
            border-bottom: 1px solid #e8e8e8;
        }

        .control-btn {
            margin-left: auto;
            padding: 5px 15px;
            background: #1890ff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        .control-btn-sm {
            padding: 5px 5px;
            background: #1890ff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            line-height: 16px;
        }
        .control-btn-sm-disable{
            padding: 5px 5px;
            background: #333333;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            line-height: 16px;
        }

        select, input {
            width: 50%;
            padding: 5px;
            margin: 5px 0;
            border: 1px solid #d9d9d9;
            border-radius: 4px;
            box-sizing: border-box;
        }

        .horizontal select {
            flex: 1;
        }
    </style>
</head>
<body>
<div id="app">
    <div class="container">
        <div class="left-panel">
            <div class="avatar">
                <img src="https://static.jianniang.com/clover1/pc/images/p1/favicon.ico" alt="ç½‘ç«™å¤´åƒ">
            </div>
            <div  style="display: flex;align-content: center">
                 <el-button style="margin: 0 auto" @click="toggleSettings">è®¾ç½®</el-button>
            </div>
        </div>
        <div class="right-panel">
            <template v-if="schedule">
                <div v-for="item in items" :key="item.title" class="item">
                    <h3>{{ item.title }}</h3>
                    <div>
                        <el-button style="margin: 0 10px" @click="configureItem(item)">è®¾ç½®</el-button>
                        <el-switch v-model="item.enabled"></el-switch>
                    </div>

                </div>
            </template>
            <template v-if="showSettings">
                <div class="settings-form">
                    <el-form label-position="top">
                        <el-form-item label="è´¦å·">
                            <el-input v-model="settings.account"></el-input>
                        </el-form-item>
                        <el-form-item label="å¯†ç ">
                            <el-input v-model="settings.password" type="password"></el-input>
                        </el-form-item>
                        <el-form-item label="IPåœ°å€">
                            <el-input v-model="settings.ipAddress"></el-input>
                        </el-form-item>
                        <el-form-item label="ç«¯å£">
                            <el-input v-model.number="settings.port" type="number"></el-input>
                        </el-form-item>
                    </el-form>
                </div>
            </template>
            <div class="controls">
                <el-button @click="saveSettings">ä¿å­˜</el-button>
                <el-button @click="startLogging" type="primary">å¼€å§‹</el-button>
            </div>
            <div v-if="logging" class="log-output">
                <h3>æ—¥å¿—è¾“å‡º</h3>
                <div class="log-messages">
                    <p v-for="(message, index) in logMessages" :key="index">{{ message }}</p>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    const { createApp } = Vue;
    const app = createApp({
        data() {
            return {
                showSettings: false,
                schedule: true,
                logging: false,
                items: [
                    { title: 'ç´ æ', enabled: false },
                    { title: 'é«˜éš¾åº¦ç´ æ', enabled: false },
                    { title: 'ç¥ç§˜çŸ¿äº§', enabled: false },
                    { title: 'ä¸–ç•Œæ ‘', enabled: false },
                    { title: 'é—è¿¹æ¢ç´¢', enabled: false }
                ],
                settings: {
                    account: '',
                    password: '',
                    ipAddress: '',
                    port: null
                },
                logMessages: []
            };
        },
        methods: {
            toggleSettings() {
                this.showSettings = !this.showSettings;
            },
            configureItem(item) {
                // è¿™é‡Œå¯ä»¥æ·»åŠ å…·ä½“çš„é…ç½®é€»è¾‘
                console.log('Configuring item:', item);
            },
            saveSettings() {
                // è¿™é‡Œå¯ä»¥æ·»åŠ ä¿å­˜è®¾ç½®çš„é€»è¾‘
                console.log('Saving settings:', this.settings);
            },
            startLogging() {
                this.logging = !this.logging;
                this.schedule = !this.schedule;
                // è¿™é‡Œä½¿ç”¨SSEè¿æ¥åç«¯API
                const eventSource = new EventSource('http://0.0.0.0:8233/sse');
                eventSource.onmessage = (event) => {
                    this.logMessages.push(event.data);
                    // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
                    this.$nextTick(() => {
                        const container = document.querySelector('.log-messages');
                        if (container) {
                            container.scrollTop = container.scrollHeight;
                        }
                    });
                };
                eventSource.onerror = (error) => {
                    console.error('EventSource failed:', error);
                };
            }
        }
    });
    app.use(ElementPlus);
    app.mount('#app');
</script>
</body>

</html>